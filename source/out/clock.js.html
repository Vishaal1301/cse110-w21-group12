<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: clock.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: clock.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Clock module
 * @module modules/clock
= */

const clock = document.getElementById("clock");
const start = document.getElementById("start");
const greenHover = "rgba(69, 252, 63, 0.336)";
const redHover = "rgba(248, 87, 87, 0.35)";
let AUTO_CYCLE = false

let timerOrder = [1500, 300, 1500, 300, 1500, 300, 1500, 300, 1500, 900];
let iteration = 0;

let IS_COUNTDOWN = false;
let countdown;
let hoverColor = greenHover;

// Start the timer
function startTimer(){
    IS_COUNTDOWN = true;
    start.innerHTML = "Stop";
    hoverColor = redHover;

    let timer = timerOrder[iteration] - 1;
    countdown = setInterval(() => {

        clock.innerHTML =  secondsToString(timer);

        if(--timer &lt; 0){
            stopTimer();

            // If AUTO_CYCLE is enabled, retart the timer immediately
            if(AUTO_CYCLE)
                startTimer()
        }

    }, 1000);
}

// Stop the timer
function stopTimer(){
    IS_COUNTDOWN = false;
    start.innerHTML="Start";
    hoverColor = greenHover;
    iteration = ++iteration >= timerOrder.length ? 0 : iteration;

    clearInterval(countdown);

    clock.innerHTML = secondsToString(timerOrder[iteration]);
}

// Given a number in seconds, return the string equivalent in time format
function secondsToString(time){
    let minutes, seconds;

    minutes = parseInt(time/60, 10);
    seconds = parseInt(time % 60, 10);

    minutes = minutes &lt; 10 ? "0" + minutes : minutes;
    seconds = seconds &lt; 10 ? "0" + seconds : seconds;

    return minutes + ":" + seconds;

}


/**
 * Update the timer settings
 * @param {number} focusLength - The length of the focus session, in seconds
 * @param {number} shortBreakLength - The length of the short break length, in seconds
 * @param {number} longBreakLength - The length of the long break length, in seconds
 */
function updateTimer(focusLength, shortBreakLength, longBreakLength){
    timerOrder = [];
    for(let i = 0; i &lt; 4; i++){
        timerOrder.push(focusLength);
        if(i &lt; 3)
            timerOrder.push(shortBreakLength);
        else
            timerOrder.push(longBreakLength);
    }
    console.log(timerOrder);
    clock.innerHTML = secondsToString(timerOrder[iteration]);
}

/**
 * When the button is clicked, starts or stops timer based on timer state
 * @function timerButtonClick
 */
function timerButtonClick(){
    if (!IS_COUNTDOWN){
        startTimer(10);
    }
    else{
        stopTimer();
    }
}


start.onmouseover = ( function (){
    this.style.backgroundColor = hoverColor;
})

start.onmouseout = (function() {
    this.style.backgroundColor = "rgba(0, 0, 0, 0)";
})

export {timerButtonClick, updateTimer};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="modules_clock%250A=module_.html">modules/clock
=</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun Feb 14 2021 22:51:54 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
